{"version":3,"file":"js/65.23c4ceaa.js","mappings":"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","sources":["webpack://biyeshiji/./src/views/admin/NoticeManagement.vue?c9e6","webpack://biyeshiji/./src/views/admin/NoticeManagement.vue","webpack://biyeshiji/./src/views/admin/NoticeManagement.vue?c76a","webpack://biyeshiji/./src/views/admin/components/SideBar.vue?df45","webpack://biyeshiji/./src/views/admin/components/SideBar.vue","webpack://biyeshiji/./src/views/admin/components/SideBar.vue?ab5a","webpack://biyeshiji/./src/views/admin/components/TopMenu.vue?cac3","webpack://biyeshiji/./src/views/admin/components/TopMenu.vue","webpack://biyeshiji/./src/views/admin/components/TopMenu.vue?997d"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport { createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createTextVNode as _createTextVNode, mergeProps as _mergeProps, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1faa2b1e\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  key: 0,\n  style: {\"width\":\"100vw\",\"height\":\"100vh\"}\n}\nconst _hoisted_2 = {\n  key: 1,\n  class: \"content\"\n}\nconst _hoisted_3 = { class: \"main-content\" }\nconst _hoisted_4 = { class: \"notice-form\" }\n\nimport SideBar from './components/SideBar.vue';\r\nimport TopMenu from './components/TopMenu.vue';\r\nimport { reactive, ref, toRaw, onBeforeMount, onBeforeUnmount, onMounted } from 'vue';\r\nimport type { UnwrapRef } from 'vue';\r\nimport type { Rule } from 'ant-design-vue/es/form';\r\nimport axios from 'axios';\r\nimport { message } from 'ant-design-vue';\r\nimport ReloadPage from '../../components/reloadPage.vue'\r\ninterface FormState {\r\n  target: string | undefined;\r\n  content: string | undefined;\r\n  type: string | undefined;\r\n  title: string | undefined;\r\n  user: any;\r\n}\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'NoticeManagement',\n  setup(__props) {\n\r\nconst layout = {\r\n  labelCol: { span: 5 },\r\n  wrapperCol: { span: 15 },\r\n};\r\n\r\nconst textareaRef = ref<Element>();\r\n// const temp=ref<any>()\r\n// onMounted(()=>{\r\n//   const resizeObserver = new ResizeObserver(() => {\r\n//     // 处理尺寸变化的逻辑\r\n//   });\r\n//   temp.value=resizeObserver\r\n//   if (textareaRef.value instanceof Element) {\r\n//         resizeObserver.observe(textareaRef.value);\r\n//       }\r\n// })\r\n\r\n// onBeforeUnmount(() => {\r\n//   temp.value.disconnect();\r\n// });\r\n\r\nconst enterFullscreen = () => {\r\n  const element = document.documentElement; // 全屏元素，这里使用整个文档根元素\r\n  if (element.requestFullscreen) {\r\n    element.requestFullscreen();\r\n  } else if (element.mozRequestFullScreen) { // Firefox\r\n    element.mozRequestFullScreen();\r\n  } else if (element.webkitRequestFullscreen) { // Chrome, Safari and Opera\r\n    element.webkitRequestFullscreen();\r\n  } else if (element.msRequestFullscreen) { // IE/Edge\r\n    element.msRequestFullscreen();\r\n  }\r\n\r\n}\r\n\r\nconst exitFullscreen = () => {\r\n  if (document.exitFullscreen) {\r\n    document.exitFullscreen();\r\n  } else if (document.mozCancelFullScreen) { // Firefox\r\n    document.mozCancelFullScreen();\r\n  } else if (document.webkitExitFullscreen) { // Chrome, Safari and Opera\r\n    document.webkitExitFullscreen();\r\n  } else if (document.msExitFullscreen) { // IE/Edge\r\n    document.msExitFullscreen();\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nconst options = ref<any>([\r\n  { value: '提醒', label: '提醒' },\r\n  { value: '公告', label: '公告' },\r\n  { value: '通知', label: '通知' },\r\n]);\r\nconst options1 = ref<any>([]);\r\n\r\nconst selectChange = (value, option) => {\r\n  console.log('213', value, option)\r\n  formState.user = option.userId\r\n}\r\nconst filterOption = (input: string, option: any) => {\r\n  return option.value.toLowerCase().indexOf(input.toLowerCase()) >= 0;\r\n};\r\nconst formRef = ref();\r\n\r\nconst formState: UnwrapRef<FormState> = reactive({\r\n  user: '',\r\n  target: undefined,\r\n  content: '',\r\n  type: undefined,\r\n  title: ''\r\n});\r\nconst rules: Record<string, Rule[]> = {\r\n  target: [{ required: true, message: '请输入接收者', trigger: 'change' }],\r\n  content: [{ required: true, message: '请输入内容', trigger: 'change' }],\r\n  type: [{ required: true, message: '请选择类型', trigger: 'change' }],\r\n  title: [{ required: true, message: '请输入标题', trigger: 'change' }],\r\n};\r\nconst reloadPage = ref<boolean>()\r\nonBeforeMount(async () => {\r\n  try {\r\n    reloadPage.value = true\r\n    await axios.get('http://localhost:3000/showusers').then((res) => {\r\n      console.log('res', res.data.users)\r\n      for (let i = 0; i < res.data.users.length; i++) {\r\n        if (res.data.users[i].role.identity === 0) {\r\n          options1.value?.push({ value: res.data.users[i].username, userId: res.data.users[i]._id })\r\n        }\r\n\r\n      }\r\n\r\n    }).finally(() => {\r\n      reloadPage.value = false\r\n    })\r\n  } catch (error) {\r\n    console.log(error)\r\n    reloadPage.value = false\r\n  }\r\n\r\n})\r\nconst reload = async () => {\r\n  try {\r\n    reloadPage.value = true\r\n    await axios.get('http://localhost:3000/showusers').then((res) => {\r\n      for (let i = 0; i < res.data.users.length; i++) {\r\n        options1.value?.push({ value: res.data.users[i].username, userId: res.data.users[i]._id })\r\n      }\r\n\r\n    }).finally(() => {\r\n      reloadPage.value = false\r\n    })\r\n  } catch (error) {\r\n    console.log('error', error)\r\n  }\r\n}\r\nconst onSubmit = () => {\r\n  formRef.value\r\n    .validate()\r\n    .then(async () => {\r\n      console.log('values', formState, toRaw(formState));\r\n      await axios.post('http://localhost:3000/addglobalnotice', { notice: toRaw(formState) }).then((res) => {\r\n        if (res) {\r\n          message.loading('loading', 1.5).then(() => {\r\n            message.success('发送成功', 1.0)\r\n            formRef.value.resetFields()\r\n          })\r\n        }\r\n      })\r\n    })\r\n    .catch(error => {\r\n      console.log('error', error);\r\n    });\r\n};\r\nconst resetForm = () => {\r\n  formRef.value.resetFields();\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_a_select = _resolveComponent(\"a-select\")!\n  const _component_a_form_item = _resolveComponent(\"a-form-item\")!\n  const _component_a_input = _resolveComponent(\"a-input\")!\n  const _component_a_textarea = _resolveComponent(\"a-textarea\")!\n  const _component_a_button = _resolveComponent(\"a-button\")!\n  const _component_a_form = _resolveComponent(\"a-form\")!\n\n  return (reloadPage.value)\n    ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n        _createVNode(ReloadPage, { style: {\"display\":\"flex\",\"justify-content\":\"center\",\"align-items\":\"center\"} })\n      ]))\n    : (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [\n        _createVNode(TopMenu, {\n          onEnterFullscreen: enterFullscreen,\n          onExitFullscreen: exitFullscreen,\n          onReload: reload\n        }),\n        _createElementVNode(\"div\", _hoisted_3, [\n          _createVNode(SideBar, { url: '/admin/notice' }),\n          _createElementVNode(\"div\", _hoisted_4, [\n            _createVNode(_component_a_form, _mergeProps({\n              ref_key: \"formRef\",\n              ref: formRef,\n              name: \"custom-validation\",\n              labelAlign: \"right\",\n              model: formState,\n              rules: rules\n            }, layout), {\n              default: _withCtx(() => [\n                _createVNode(_component_a_form_item, {\n                  label: \"接收人\",\n                  name: \"target\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_a_select, {\n                      value: formState.target,\n                      \"onUpdate:value\": _cache[0] || (_cache[0] = ($event: any) => ((formState.target) = $event)),\n                      \"show-search\": \"\",\n                      placeholder: \"请选择一个接收人\",\n                      style: {\"width\":\"1016px\",\"text-align\":\"left\"},\n                      options: options1.value,\n                      \"filter-option\": filterOption,\n                      onChange: selectChange\n                    }, null, 8, [\"value\", \"options\"])\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_a_form_item, {\n                  label: \"类型\",\n                  name: \"type\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_a_select, {\n                      value: formState.type,\n                      \"onUpdate:value\": _cache[1] || (_cache[1] = ($event: any) => ((formState.type) = $event)),\n                      \"show-search\": \"\",\n                      placeholder: \"请选择一个类型\",\n                      style: {\"width\":\"1016px\",\"text-align\":\"left\"},\n                      options: options.value,\n                      \"filter-option\": filterOption\n                    }, null, 8, [\"value\", \"options\"])\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_a_form_item, {\n                  label: \"标题\",\n                  name: \"title\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_a_input, {\n                      style: {\"width\":\"1016px\"},\n                      value: formState.title,\n                      \"onUpdate:value\": _cache[2] || (_cache[2] = ($event: any) => ((formState.title) = $event)),\n                      placeholder: \"请输入标题\",\n                      type: \"text\",\n                      autocomplete: \"off\"\n                    }, null, 8, [\"value\"])\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_a_form_item, {\n                  label: \"内容\",\n                  name: \"content\"\n                }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_a_textarea, {\n                      style: {\"width\":\"1016px\"},\n                      ref_key: \"textareaRef\",\n                      ref: textareaRef,\n                      placeholder: \"请输入内容\",\n                      value: formState.content,\n                      \"onUpdate:value\": _cache[3] || (_cache[3] = ($event: any) => ((formState.content) = $event)),\n                      \"allow-clear\": \"\",\n                      \"show-count\": \"\"\n                    }, null, 8, [\"value\"])\n                  ]),\n                  _: 1\n                }),\n                _createVNode(_component_a_form_item, { \"wrapper-col\": { span: 14, offset: 5 } }, {\n                  default: _withCtx(() => [\n                    _createVNode(_component_a_button, {\n                      type: \"primary\",\n                      onClick: onSubmit\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(\"发送\")\n                      ]),\n                      _: 1\n                    }),\n                    _createVNode(_component_a_button, {\n                      style: {\"margin-left\":\"30px\"},\n                      onClick: resetForm\n                    }, {\n                      default: _withCtx(() => [\n                        _createTextVNode(\"重置\")\n                      ]),\n                      _: 1\n                    })\n                  ]),\n                  _: 1\n                })\n              ]),\n              _: 1\n            }, 16, [\"model\"])\n          ])\n        ])\n      ]))\n}\n}\n\n})","<template>\r\n  <div v-if=\"reloadPage\" style=\"width: 100vw;height: 100vh;\">\r\n    <ReloadPage style=\"display: flex;justify-content: center;align-items: center;\"></ReloadPage>\r\n  </div>\r\n  <div v-else class=\"content\">\r\n    <TopMenu @enterFullscreen=\"enterFullscreen\" @exitFullscreen=\"exitFullscreen\" @reload=\"reload\"></TopMenu>\r\n    <div class=\"main-content\">\r\n      <SideBar :url=\"'/admin/notice'\"></SideBar>\r\n      <div class=\"notice-form\">\r\n        <a-form ref=\"formRef\" name=\"custom-validation\" labelAlign=\"right\" :model=\"formState\" :rules=\"rules\"\r\n          v-bind=\"layout\">\r\n\r\n          <a-form-item label=\"接收人\" name=\"target\">\r\n            <a-select v-model:value=\"formState.target\" show-search placeholder=\"请选择一个接收人\"\r\n              style=\"width: 1016px;text-align: left;\" :options=\"options1\" :filter-option=\"filterOption\"\r\n              @change=\"selectChange\"></a-select>\r\n          </a-form-item>\r\n          <a-form-item label=\"类型\" name=\"type\">\r\n            <a-select v-model:value=\"formState.type\" show-search placeholder=\"请选择一个类型\"\r\n              style=\"width: 1016px;text-align: left;\" :options=\"options\" :filter-option=\"filterOption\"></a-select>\r\n          </a-form-item>\r\n          <a-form-item label=\"标题\" name=\"title\">\r\n            <a-input style=\"width: 1016px;\" v-model:value=\"formState.title\" placeholder=\"请输入标题\" type=\"text\"\r\n              autocomplete=\"off\" />\r\n          </a-form-item>\r\n          <a-form-item label=\"内容\" name=\"content\">\r\n            <a-textarea style=\"width: 1016px;\" ref=\"textareaRef\" placeholder=\"请输入内容\" v-model:value=\"formState.content\"\r\n              allow-clear show-count />\r\n          </a-form-item>\r\n          <a-form-item :wrapper-col=\"{ span: 14, offset: 5 }\">\r\n            <a-button type=\"primary\" @click=\"onSubmit\">发送</a-button>\r\n            <a-button style=\"margin-left: 30px\" @click=\"resetForm\">重置</a-button>\r\n          </a-form-item>\r\n        </a-form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport SideBar from './components/SideBar.vue';\r\nimport TopMenu from './components/TopMenu.vue';\r\nimport { reactive, ref, toRaw, onBeforeMount, onBeforeUnmount, onMounted } from 'vue';\r\nimport type { UnwrapRef } from 'vue';\r\nimport type { Rule } from 'ant-design-vue/es/form';\r\nimport axios from 'axios';\r\nimport { message } from 'ant-design-vue';\r\nimport ReloadPage from '../../components/reloadPage.vue'\r\ninterface FormState {\r\n  target: string | undefined;\r\n  content: string | undefined;\r\n  type: string | undefined;\r\n  title: string | undefined;\r\n  user: any;\r\n}\r\n\r\nconst layout = {\r\n  labelCol: { span: 5 },\r\n  wrapperCol: { span: 15 },\r\n};\r\n\r\nconst textareaRef = ref<Element>();\r\n// const temp=ref<any>()\r\n// onMounted(()=>{\r\n//   const resizeObserver = new ResizeObserver(() => {\r\n//     // 处理尺寸变化的逻辑\r\n//   });\r\n//   temp.value=resizeObserver\r\n//   if (textareaRef.value instanceof Element) {\r\n//         resizeObserver.observe(textareaRef.value);\r\n//       }\r\n// })\r\n\r\n// onBeforeUnmount(() => {\r\n//   temp.value.disconnect();\r\n// });\r\n\r\nconst enterFullscreen = () => {\r\n  const element = document.documentElement; // 全屏元素，这里使用整个文档根元素\r\n  if (element.requestFullscreen) {\r\n    element.requestFullscreen();\r\n  } else if (element.mozRequestFullScreen) { // Firefox\r\n    element.mozRequestFullScreen();\r\n  } else if (element.webkitRequestFullscreen) { // Chrome, Safari and Opera\r\n    element.webkitRequestFullscreen();\r\n  } else if (element.msRequestFullscreen) { // IE/Edge\r\n    element.msRequestFullscreen();\r\n  }\r\n\r\n}\r\n\r\nconst exitFullscreen = () => {\r\n  if (document.exitFullscreen) {\r\n    document.exitFullscreen();\r\n  } else if (document.mozCancelFullScreen) { // Firefox\r\n    document.mozCancelFullScreen();\r\n  } else if (document.webkitExitFullscreen) { // Chrome, Safari and Opera\r\n    document.webkitExitFullscreen();\r\n  } else if (document.msExitFullscreen) { // IE/Edge\r\n    document.msExitFullscreen();\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nconst options = ref<any>([\r\n  { value: '提醒', label: '提醒' },\r\n  { value: '公告', label: '公告' },\r\n  { value: '通知', label: '通知' },\r\n]);\r\nconst options1 = ref<any>([]);\r\n\r\nconst selectChange = (value, option) => {\r\n  console.log('213', value, option)\r\n  formState.user = option.userId\r\n}\r\nconst filterOption = (input: string, option: any) => {\r\n  return option.value.toLowerCase().indexOf(input.toLowerCase()) >= 0;\r\n};\r\nconst formRef = ref();\r\n\r\nconst formState: UnwrapRef<FormState> = reactive({\r\n  user: '',\r\n  target: undefined,\r\n  content: '',\r\n  type: undefined,\r\n  title: ''\r\n});\r\nconst rules: Record<string, Rule[]> = {\r\n  target: [{ required: true, message: '请输入接收者', trigger: 'change' }],\r\n  content: [{ required: true, message: '请输入内容', trigger: 'change' }],\r\n  type: [{ required: true, message: '请选择类型', trigger: 'change' }],\r\n  title: [{ required: true, message: '请输入标题', trigger: 'change' }],\r\n};\r\nconst reloadPage = ref<boolean>()\r\nonBeforeMount(async () => {\r\n  try {\r\n    reloadPage.value = true\r\n    await axios.get('http://localhost:3000/showusers').then((res) => {\r\n      console.log('res', res.data.users)\r\n      for (let i = 0; i < res.data.users.length; i++) {\r\n        if (res.data.users[i].role.identity === 0) {\r\n          options1.value?.push({ value: res.data.users[i].username, userId: res.data.users[i]._id })\r\n        }\r\n\r\n      }\r\n\r\n    }).finally(() => {\r\n      reloadPage.value = false\r\n    })\r\n  } catch (error) {\r\n    console.log(error)\r\n    reloadPage.value = false\r\n  }\r\n\r\n})\r\nconst reload = async () => {\r\n  try {\r\n    reloadPage.value = true\r\n    await axios.get('http://localhost:3000/showusers').then((res) => {\r\n      for (let i = 0; i < res.data.users.length; i++) {\r\n        options1.value?.push({ value: res.data.users[i].username, userId: res.data.users[i]._id })\r\n      }\r\n\r\n    }).finally(() => {\r\n      reloadPage.value = false\r\n    })\r\n  } catch (error) {\r\n    console.log('error', error)\r\n  }\r\n}\r\nconst onSubmit = () => {\r\n  formRef.value\r\n    .validate()\r\n    .then(async () => {\r\n      console.log('values', formState, toRaw(formState));\r\n      await axios.post('http://localhost:3000/addglobalnotice', { notice: toRaw(formState) }).then((res) => {\r\n        if (res) {\r\n          message.loading('loading', 1.5).then(() => {\r\n            message.success('发送成功', 1.0)\r\n            formRef.value.resetFields()\r\n          })\r\n        }\r\n      })\r\n    })\r\n    .catch(error => {\r\n      console.log('error', error);\r\n    });\r\n};\r\nconst resetForm = () => {\r\n  formRef.value.resetFields();\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n.demo-infinite-container {\r\n  // border: 1px solid #e8e8e8;\r\n  border-radius: 4px;\r\n  overflow: auto;\r\n  padding: 8px 24px;\r\n  height: 89vh;\r\n}\r\n\r\n.content {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #f0f2f5;\r\n\r\n  >.main-content {\r\n    display: flex;\r\n    flex-direction: row;\r\n\r\n    >.notice-form {\r\n      width: 87%;\r\n      background-color: #fff;\r\n      margin: 20px;\r\n      padding-top: 100px;\r\n      border-radius: 8px;\r\n    }\r\n  }\r\n}\r\n</style>","import script from \"./NoticeManagement.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./NoticeManagement.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./NoticeManagement.vue?vue&type=style&index=0&id=1faa2b1e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1faa2b1e\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-c654d7a2\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = { class: \"sidebar\" }\nconst _hoisted_2 = [\"src\"]\nconst _hoisted_3 = { style: {\"margin-left\":\"5px\"} }\n\nimport { onBeforeMount, ref } from 'vue';\r\nimport bookImage from '@/assets/book.png'\r\nimport userImage from '@/assets/user.png'\r\nimport borrowImage from '@/assets/borrow.png'\r\nimport noticeImage from '@/assets/notice.png'\r\nimport analysisImage from '@/assets/analysis.png'\r\ninterface Item {\r\n    id: number;\r\n    text: string;\r\n    url: string;\r\n    selected: boolean;\r\n    image: string;\r\n}\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'SideBar',\n  props: {\r\n    url: {\r\n        type: String,\r\n        require: true\r\n    }\r\n},\n  setup(__props) {\n\r\nconst props = __props\r\nconst items = ref<Item[]>([\r\n    {\r\n        id: 4,\r\n        text: '数据分析',\r\n        url: '/admin/analysis',\r\n        selected: false,\r\n        image: analysisImage\r\n    },\r\n    {\r\n        id: 1,\r\n        text: '图书管理',\r\n        url: '/admin/bookmanage',\r\n        selected: false,\r\n        image: bookImage\r\n    },\r\n    {\r\n        id: 2,\r\n        text: '用户管理',\r\n        url: '/admin/user',\r\n        selected: false,\r\n        image: userImage\r\n    },\r\n    {\r\n        id: 3,\r\n        text: '借阅管理',\r\n        url: '/admin/borrow',\r\n        selected: false,\r\n        image: borrowImage\r\n    },\r\n    {\r\n        id: 4,\r\n        text: '通知提醒',\r\n        url: '/admin/notice',\r\n        selected: false,\r\n        image: noticeImage\r\n    }\r\n])\r\nonBeforeMount(() => {\r\n    items.value.forEach(item => {\r\n        if (item.url === props.url) {\r\n            item.selected = true\r\n        }\r\n    });\r\n})\r\n\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  const _component_router_link = _resolveComponent(\"router-link\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(items.value, (item, index) => {\n      return (_openBlock(), _createElementBlock(\"div\", {\n        class: _normalizeClass([\"sideitem\", { selected: item.selected }]),\n        key: index\n      }, [\n        _createVNode(_component_router_link, {\n          to: item.url\n        }, {\n          default: _withCtx(() => [\n            _createElementVNode(\"div\", {\n              class: _normalizeClass([\"fonts\", { selectedfont: item.selected }])\n            }, [\n              _createElementVNode(\"img\", {\n                src: item.image\n              }, null, 8, _hoisted_2),\n              _createElementVNode(\"span\", _hoisted_3, _toDisplayString(item.text), 1)\n            ], 2)\n          ]),\n          _: 2\n        }, 1032, [\"to\"])\n      ], 2))\n    }), 128))\n  ]))\n}\n}\n\n})","<template>\r\n    <div class=\"sidebar\">\r\n        <div class=\"sideitem\" v-for=\"(item, index) in items\" :key=\"index\" :class=\"{ selected: item.selected }\">\r\n            <router-link :to=\"item.url\">\r\n                <div class=\"fonts\" :class=\"{ selectedfont: item.selected }\">\r\n                    <img :src=\"item.image\" />\r\n                    <span style=\"margin-left: 5px;\">{{ item.text }}</span>\r\n                </div>\r\n            </router-link>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport { onBeforeMount, ref } from 'vue';\r\nimport bookImage from '@/assets/book.png'\r\nimport userImage from '@/assets/user.png'\r\nimport borrowImage from '@/assets/borrow.png'\r\nimport noticeImage from '@/assets/notice.png'\r\nimport analysisImage from '@/assets/analysis.png'\r\nconst props = defineProps({\r\n    url: {\r\n        type: String,\r\n        require: true\r\n    }\r\n})\r\ninterface Item {\r\n    id: number;\r\n    text: string;\r\n    url: string;\r\n    selected: boolean;\r\n    image: string;\r\n}\r\nconst items = ref<Item[]>([\r\n    {\r\n        id: 4,\r\n        text: '数据分析',\r\n        url: '/admin/analysis',\r\n        selected: false,\r\n        image: analysisImage\r\n    },\r\n    {\r\n        id: 1,\r\n        text: '图书管理',\r\n        url: '/admin/bookmanage',\r\n        selected: false,\r\n        image: bookImage\r\n    },\r\n    {\r\n        id: 2,\r\n        text: '用户管理',\r\n        url: '/admin/user',\r\n        selected: false,\r\n        image: userImage\r\n    },\r\n    {\r\n        id: 3,\r\n        text: '借阅管理',\r\n        url: '/admin/borrow',\r\n        selected: false,\r\n        image: borrowImage\r\n    },\r\n    {\r\n        id: 4,\r\n        text: '通知提醒',\r\n        url: '/admin/notice',\r\n        selected: false,\r\n        image: noticeImage\r\n    }\r\n])\r\nonBeforeMount(() => {\r\n    items.value.forEach(item => {\r\n        if (item.url === props.url) {\r\n            item.selected = true\r\n        }\r\n    });\r\n})\r\n\r\n\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.sidebar {\r\n    width: 197px;\r\n    height: 94vh;\r\n    border-right: 1px solid #f6f6f6;\r\n    background-color: #fff;\r\n    z-index: 999;\r\n}\r\n\r\n.sideitem {\r\n\r\n    width: 90%;\r\n    height: 30px;\r\n    //padding: 5px;\r\n    margin: 10px;\r\n    border-radius: 4px;\r\n\r\n}\r\n\r\n.selected {\r\n\r\n    background: rgb(64, 158, 255);\r\n    background: linear-gradient(142deg, rgba(64, 158, 255, 0.7147233893557423) 0%, rgba(64, 158, 255, 0.9416141456582633) 100%);\r\n}\r\n\r\n.fonts {\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    margin-left: 30px;\r\n    color: black;\r\n    position: relative;\r\n\r\n    >img {\r\n        position: absolute;\r\n        width: 16px;\r\n        height: 16px;\r\n        left: -25px;\r\n        margin-left: 10px;\r\n    }\r\n}\r\n\r\n.selectedfont {\r\n    color: #fff\r\n}\r\n</style>","import script from \"./SideBar.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./SideBar.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./SideBar.vue?vue&type=style&index=0&id=c654d7a2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-c654d7a2\"]])\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\nimport _imports_0 from '../../../assets/logo.png'\nimport _imports_1 from '../../../assets/user-avatar-line.png'\nimport _imports_2 from '../../../assets/Logout.png'\n\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-00e5ff7a\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  class: \"topmenu\",\n  style: {\"position\":\"relative\"}\n}\nconst _hoisted_2 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", { class: \"logo\" }, [\n  /*#__PURE__*/_createElementVNode(\"img\", { src: _imports_0 })\n], -1))\nconst _hoisted_3 = { class: \"user-info\" }\nconst _hoisted_4 = { class: \"avatar\" }\nconst _hoisted_5 = [\"src\"]\nconst _hoisted_6 = {\n  key: 1,\n  src: _imports_1\n}\nconst _hoisted_7 = /*#__PURE__*/ _withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  style: {\"width\":\"35px\",\"height\":\"35px\"},\n  src: _imports_2\n}, null, -1))\nconst _hoisted_8 = [\n  _hoisted_7\n]\n\nimport {ref } from 'vue'\r\n\r\nimport { useStore } from 'vuex';\r\nimport { message } from 'ant-design-vue';\r\nimport { FullscreenOutlined, FullscreenExitOutlined ,RedoOutlined} from '@ant-design/icons-vue'\r\n\r\n\r\n// 使用 defineEmits 定义组件的事件\r\ninterface DataItem {\r\n  title: string;\r\n  content: string;\r\n  tag: string\r\n}\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'TopMenu',\n  emits: ['enterFullscreen', 'exitFullscreen', 'reload'],\n  setup(__props, { emit: __emit }) {\n\r\nconst emits = __emit;\r\nlet isFullscreen = ref<boolean>(false)\r\n\r\n\r\n\r\nconst store = useStore()\r\nconst enterFullscreen = () => {\r\n  emits('enterFullscreen')\r\n  isFullscreen.value = true\r\n}\r\n\r\nconst exitFullscreen = () => {\r\n  emits('exitFullscreen')\r\n  isFullscreen.value = false\r\n}\r\nconst reload = () => {\r\n  emits('reload')\r\n}\r\n\r\nconst logout = () => {\r\n  message.loading('loading', 1.0).then(() => {\r\n    localStorage.removeItem('user')\r\n    store.commit('logout')\r\n  })\r\n\r\n}\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _hoisted_2,\n    _createElementVNode(\"div\", _hoisted_3, [\n      _createVNode(_unref(RedoOutlined), {\n        onClick: reload,\n        style: {fontSize:'21px',marginRight:'3px'}\n      }),\n      (!_unref(isFullscreen))\n        ? (_openBlock(), _createBlock(_unref(FullscreenOutlined), {\n            key: 0,\n            style: {fontSize:'21px',marginRight:'3px'},\n            onClick: enterFullscreen\n          }))\n        : (_openBlock(), _createBlock(_unref(FullscreenExitOutlined), {\n            key: 1,\n            style: {fontSize:'21px',marginRight:'3px'},\n            onClick: exitFullscreen\n          })),\n      _createElementVNode(\"div\", _hoisted_4, [\n        (_unref(store).state.user.avatar)\n          ? (_openBlock(), _createElementBlock(\"img\", {\n              key: 0,\n              src: _unref(store).state.user.avatar\n            }, null, 8, _hoisted_5))\n          : (_openBlock(), _createElementBlock(\"img\", _hoisted_6)),\n        _createElementVNode(\"span\", null, _toDisplayString(_unref(store).state.user.username), 1)\n      ]),\n      _createElementVNode(\"div\", {\n        class: \"user-btn\",\n        onClick: logout\n      }, _hoisted_8)\n    ])\n  ]))\n}\n}\n\n})","<template>\r\n  <div class=\"topmenu\" style=\"position: relative;\">\r\n    <div class=\"logo\">\r\n      <img src=\"../../../assets/logo.png\" />\r\n    </div>\r\n\r\n    <div class=\"user-info\" >\r\n      <RedoOutlined @click=\"reload\" :style=\"{fontSize:'21px',marginRight:'3px'}\"/>\r\n      <FullscreenOutlined v-if=\"!isFullscreen\" :style=\"{fontSize:'21px',marginRight:'3px'}\" @click=\"enterFullscreen\" />\r\n      <FullscreenExitOutlined v-else :style=\"{fontSize:'21px',marginRight:'3px'}\" @click=\"exitFullscreen\" />\r\n      <div class=\"avatar\"><img v-if=\"store.state.user.avatar\" :src=\"store.state.user.avatar\" />\r\n        <img v-else src=\"../../../assets/user-avatar-line.png\" /><span>{{\r\n          store.state.user.username\r\n        }}</span>\r\n      </div>\r\n      <div class=\"user-btn\" @click=\"logout\"><img style=\"width: 35px;height: 35px;\" src=\"../../../assets/Logout.png\"></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script lang=\"ts\" setup>\r\nimport {ref, defineEmits } from 'vue'\r\n\r\nimport { useStore } from 'vuex';\r\nimport { message } from 'ant-design-vue';\r\nimport { FullscreenOutlined, FullscreenExitOutlined ,RedoOutlined} from '@ant-design/icons-vue'\r\n\r\n\r\n// 使用 defineEmits 定义组件的事件\r\nconst emits = defineEmits(['enterFullscreen', 'exitFullscreen', 'reload']);\r\ninterface DataItem {\r\n  title: string;\r\n  content: string;\r\n  tag: string\r\n}\r\nlet isFullscreen = ref<boolean>(false)\r\n\r\n\r\n\r\nconst store = useStore()\r\nconst enterFullscreen = () => {\r\n  emits('enterFullscreen')\r\n  isFullscreen.value = true\r\n}\r\n\r\nconst exitFullscreen = () => {\r\n  emits('exitFullscreen')\r\n  isFullscreen.value = false\r\n}\r\nconst reload = () => {\r\n  emits('reload')\r\n}\r\n\r\nconst logout = () => {\r\n  message.loading('loading', 1.0).then(() => {\r\n    localStorage.removeItem('user')\r\n    store.commit('logout')\r\n  })\r\n\r\n}\r\n\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n:deep(.slick-slide) {\r\n  text-align: center;\r\n  background: transparent;\r\n  height: 45px;\r\n  line-height: 45px;\r\n}\r\n\r\n:deep(.slick-slide h3) {\r\n  color: #fff;\r\n}\r\n\r\n.topmenu {\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  width: 100%;\r\n  height: 6vh;\r\n  background-color: white;\r\n}\r\n\r\n.logo {\r\n  width: 197px;\r\n  height: 100%;\r\n  border-right: 1px solid #f6f6f6;\r\n\r\n  >img {\r\n    width: 120px;\r\n    height: 70px;\r\n  }\r\n}\r\n\r\n.user-info {\r\n  width: 200px;\r\n\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-right: 15px;\r\n\r\n  >.user-btn {\r\n    display: flex;\r\n    justify-content: center;\r\n    margin-right: 10px;\r\n    align-items: center;\r\n    cursor: pointer;\r\n  }\r\n}\r\n\r\n.avatar {\r\n\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  >span {\r\n    margin-left: 5px;\r\n  }\r\n\r\n  >img {\r\n    width: 35px;\r\n    height: 35px;\r\n    border-radius: 50%;\r\n  }\r\n}\r\n</style>","import script from \"./TopMenu.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./TopMenu.vue?vue&type=script&lang=ts&setup=true\"\n\nimport \"./TopMenu.vue?vue&type=style&index=0&id=00e5ff7a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-00e5ff7a\"]])\n\nexport default __exports__"],"names":["_hoisted_1","key","style","_hoisted_2","class","_hoisted_3","_hoisted_4","_defineComponent","__name","setup","__props","layout","labelCol","span","wrapperCol","textareaRef","ref","enterFullscreen","element","document","documentElement","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","options","value","label","options1","selectChange","option","console","log","formState","user","userId","filterOption","input","toLowerCase","indexOf","formRef","reactive","target","undefined","content","type","title","rules","required","message","trigger","reloadPage","onBeforeMount","async","axios","get","then","res","data","users","i","length","role","identity","push","username","_id","finally","error","reload","onSubmit","validate","toRaw","post","notice","loading","success","resetFields","catch","resetForm","_ctx","_cache","_component_a_select","_resolveComponent","_component_a_form_item","_component_a_input","_component_a_textarea","_component_a_button","_component_a_form","_openBlock","_createElementBlock","_createVNode","ReloadPage","TopMenu","onEnterFullscreen","onExitFullscreen","onReload","_createElementVNode","SideBar","url","_mergeProps","ref_key","name","labelAlign","model","default","_withCtx","$event","placeholder","onChange","_","autocomplete","offset","onClick","_createTextVNode","__exports__","props","String","require","items","id","text","selected","image","analysisImage","bookImage","userImage","borrowImage","noticeImage","forEach","item","_component_router_link","_Fragment","_renderList","index","_normalizeClass","to","selectedfont","src","_toDisplayString","_withScopeId","n","_pushScopeId","_popScopeId","_imports_0","_hoisted_5","_hoisted_6","_imports_1","_hoisted_7","_imports_2","_hoisted_8","emits","emit","__emit","isFullscreen","store","useStore","logout","localStorage","removeItem","commit","_unref","RedoOutlined","fontSize","marginRight","_createBlock","FullscreenExitOutlined","FullscreenOutlined","state","avatar"],"sourceRoot":""}